<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<istar_reports>
	<reports id="0" type_of_report="pie">
		<column>name</column>
		<column>count</column>
		<sql>SELECT content_creator.name, count(*) FROM public.task, public.content_creator WHERE task.actor_id = content_creator.id group by content_creator.name</sql>
		<title>My Name is Lakhan </title>
	</reports>
	<reports id="1" type_of_report="pie">
		<column>status</column>
		<column>count</column>
		<sql>SELECT task.status, count(*) FROM public.task, public.content_creator WHERE task.actor_id = content_creator.id group by task.status</sql>
		<title>My Name is Lakhan 2222222222222222222</title>
	</reports>

	<reports id="2" type_of_report="table">
		<column columnHandler="NONE" display_name="Task ID" isVisible="true" name="taskid" />
		<column columnHandler="NONE" display_name="Lesson Title" isVisible="true" name="lesson_title" />
		<column columnHandler="NONE" display_name="Session Title" isVisible="true" name="session_title" />
		<column columnHandler="NONE" display_name="module_name" isVisible="true" name="module_name" />
		<column columnHandler="NONE" display_name="course_name" isVisible="true" name="course_name" />
		<column columnHandler="NONE" display_name="revv" isVisible="true" name="revv" />
		<column columnHandler="NONE" display_name="status" isVisible="true" name="status" />


		<sql>SELECT task.id as taskid, lesson.title lesson_title, course.course_name as course_name, module.module_name as module_name, cmsession.title as session_title, string_agg(content_reviewer.email, ',') as revv, task.status as status FROM public.task, public.lesson, public.course, public.cmsession, public.module, public.content_reviewer
			WHERE task.item_id = lesson.id AND lesson.session_id = cmsession.id AND course.id = module.course_id AND cmsession.module_id = module.id and task.status='CREATED' and task.item_type='LESSON' AND task.actor_id = :actor_id
			group by course.course_name, module.module_name,cmsession.title, lesson.session_id, lesson.title, task.item_id, lesson.id, task.status, task.id, lesson.title
		</sql>
		<title> All Tasks in Progress</title>
	</reports>
	
	
</istar_reports>